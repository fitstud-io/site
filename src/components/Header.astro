---
import Link from "@components/Links.astro";
import { Icon } from "astro-icon/components";
import { HeaderLinks, SocialLinks } from "@consts";
import { GoogleTagmanagerNoscript } from '@digi4care/astro-google-tagmanager';
---

<GoogleTagmanagerNoscript id="GTM_MDPG45RB" domain="https://fitstud.io" />
<header class="header">
  <nav class="navbar" aria-label="Global">
    <div class="navbar-brand">
      <a href="/" aria-label="FITSTUD.IO">
        <img src="https://fitstud.io/images/logo.svg" width="24" height="24" alt="FITSTUD.IO"/> FIT<span>STUD</span>.IO
      </a>
    </div>

    <div class="navbar-menu">
      <button type="button" class="navbar-search" onclick="window.location.href='/search/'" aria-label="search">
        <Icon name="tabler:search" class="icon-base" />
      </button>

      <button type="button" class="hs-dark-mode hs-dark-mode-active:hidden inline-flex items-center gap-x-2 py-2 px-3 rounded-lg text-sm text-black hover:bg-white/20" data-hs-theme-click-value="dark" aria-label="dark">
        <Icon name="tabler:sun-filled" class="icon-base" />
      </button>
      <button type="button" class="hs-dark-mode hs-dark-mode-active:inline-flex hidden items-center gap-x-2 py-2 px-3 rounded-lg text-sm text-white hover:bg-white/20" data-hs-theme-click-value="light" aria-label="light">
        <Icon name="tabler:moon-filled" class="icon-base" />
      </button>

      <div class="md:hidden">
        <button type="button" class="hs-collapse-toggle flex justify-center items-center text-sm font-semibold rounded-lg text-black hover:bg-neutral-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-neutral-700" data-hs-collapse="#navbar-collapse-with-animation" aria-controls="navbar-collapse-with-animation" aria-label="Toggle navigation">
          <Icon name="tabler:menu-2" class="hs-collapse-open:hidden flex-shrink-0 size-4"></Icon>
          <Icon name="tabler:x" class="hs-collapse-open:block hidden flex-shrink-0 size-4"></Icon>
        </button>
      </div>
    </div>

    <div id="navbar-collapse-with-animation" class="navbar-nav hs-collapse hidden md:block">
      <div class="navbar-links">
        {
          HeaderLinks.map((link) => (
            <Link href={link.href}>
              {link.title}
            </Link>
          ))
        }
        <div class="social">
          {
            SocialLinks.map((link) => (
              <button
                type="button"
                class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 text-neutral-500 hover:text-neutral-800 disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-500 dark:hover:text-neutral-200"
                aria-label={link.label}
              >
                <a
                  href={link.href}
                  class="absolute inset-0 z-10"
                  aria-label={link.label}
                  target="_blank"
                />
                <Icon name={link.icon} class="icon-base" />
              </button>
            ))
          }
        </div>
      </div>
    </div>
  </nav>
</header>
